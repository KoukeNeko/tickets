---
import * as i18n from "src/i18n";
import SITCONLogo from "@assets/img/SITCON.svg";
const l = i18n.l(Astro.url);
const t = i18n.t(i18n.local(Astro.url.pathname), {
	about: {
		en: "About",
		"zh-Hant": "關於",
		"zh-Hans": "关于"
	},
	blog: {
		en: "Blog",
		"zh-Hant": "部落格",
		"zh-Hans": "博客"
	}
});
---

<nav>
	<div>
		<a href={l("/")}><img src={SITCONLogo.src} alt="SITCON Logo" /></a>
		<div class="right">
			<a class="button" href={l("/login/")}>登入</a>
			<a class="button" href={l("/admin/")}>管理員頁面</a>
		</div>
		<!-- <a href={l("/about/")}><span>{t.about}</span></a> -->

		<!-- <div>
		<a href={l("", "en")} data-lang="en">English</a>
		<a href={l("", "zh-Hant")} data-lang="zh-Hant">繁體中文</a>
		<a href={l("", "zh-Hans")} data-lang="zh-Hans">简体中文</a>
	</div> -->
	</div>
</nav>

<style>
	nav {
		position: fixed;
		top: 0;
		left: 0;
		z-index: 1000;
		background-color: var(--white);
		width: 100%;
		transition: border-color 0.3s ease-in-out;
		border-bottom: transparent solid 1px;
	}

	nav.scrolled {
		border-color: #333;
	}
	nav > div {
		display: flex;
		align-items: center;
		justify-content: space-between;
		width: 100%;
		transition: padding 0.3s ease-in-out;
	}
	nav.scrolled > div {
		padding: 1rem;
	}

	nav .right {
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	a {
		text-decoration: none;
	}
</style>

<script>
	//after scroll 5px, add class scrolled to nav
	window.addEventListener("scroll", () => {
		const nav = document.querySelector("nav");
		if (window.scrollY > 5) {
			nav.classList.add("scrolled");
		} else {
			nav.classList.remove("scrolled");
		}
	});
</script>
